# compiler options
CXX=g++ -g -O3 

# project directories
SRC_DIR=./src
INC_DIR=./include
SHARED_LIB_DIR=/opt/intelFPGA_lite/21.1/quartus/linux64
BUILD_DIR=./bin
BENCHMARK_DIRECTORY=\"../benchmarks\"
SCRIPT_DIRECTORY=\"./scripts\"
RESULT_DIRECTORY=\"./results\"

# options
INCFLAGS=-I$(INC_DIR) 
LDFLAGS=-L$(SHARED_LIB_DIR) -Wl,-rpath=$(SHARED_LIB_DIR)
LDLIBS=-ljtag_atlantic -ljtag_client

all:
	$(CXX) $(INCFLAGS) $(SRC_DIR)/*.c $(LDFLAGS) $(LDLIBS) -DRESULT_DIR=${RESULT_DIRECTORY} -DSCRIPT_DIR=${SCRIPT_DIRECTORY} -DBENCHMARK_DIR=${BENCHMARK_DIRECTORY} -o $(BUILD_DIR)/main
multi_level:
	$(CXX) $(INCFLAGS) $(SRC_DIR)/*.c $(LDFLAGS) $(LDLIBS) -DRESULT_DIR=${RESULT_DIRECTORY} -DSCRIPT_DIR=${SCRIPT_DIRECTORY} -DBENCHMARK_DIR=${BENCHMARK_DIRECTORY} -DMULTI_LEVEL_CACHE -o $(BUILD_DIR)/main

pre_process:
	$(CXX) $(INCFLAGS) $(SRC_DIR)/*.c $(LDFLAGS) $(LDLIBS) -E -DRESULT_DIR=${RESULT_DIRECTORY} -DSCRIPT_DIR=${SCRIPT_DIRECTORY} -DBENCHMARK_DIR=${BENCHMARK_DIRECTORY} > pre_process.txt


